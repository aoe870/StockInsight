# ============================================================
# 数据网关服务环境配置模板
# ============================================================
# 使用方法:
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 修改其中的配置值
# 3. 敏感信息（密码、token等）请妥善保管，不要提交到代码仓库
# ============================================================

# ============================================================
# 服务配置
# ============================================================
DG_HOST=0.0.0.0
DG_PORT=8001
DG_DEBUG=false
DG_LOG_LEVEL=INFO

# ============================================================
# 数据库配置 (必需)
# ============================================================
# 异步数据库 URL (FastAPI 使用)
DG_DATABASE_URL=postgresql+asyncpg://用户名:密码@主机:端口/data_gateway

# 同步数据库 URL (Alembic 等工具使用)
DG_DATABASE_SYNC_URL=postgresql://用户名:密码@主机:端口/data_gateway

# ============================================================
# Redis 配置
# ============================================================
DG_REDIS_URL=redis://主机:端口/0
DG_REDIS_MESSAGE_QUEUE=data-gateway:queue
DG_REDIS_QUOTE_CHANNEL_PREFIX=quote

# ============================================================
# 缓存配置
# ============================================================
DG_CACHE_TTL_REALTIME=5          # 实时数据缓存时间(秒)
DG_CACHE_TTL_KLINE=60            # K线数据缓存时间(秒)

# ============================================================
# 数据源配置
# ============================================================
DG_AKSHARE_ENABLED=true          # 启用 AKShare 数据源
DG_BAOSTOCK_ENABLED=true         # 启用 BaoStock 数据源
DG_MIANA_TOKEN=                 # Miana 平台 Token (从 https://miana.com.cn 获取)

# ============================================================
# 限流配置
# ============================================================
DG_RATE_LIMIT_PER_MINUTE=120      # 每分钟请求限制
DG_RATE_LIMIT_PER_HOUR=1000       # 每小时请求限制

# ============================================================
# 日志配置
# ============================================================
DG_LOG_FILE=logs/data_gateway.log
