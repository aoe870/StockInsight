# SAPAS 前端设计方案

## 一、技术选型

### 推荐方案：Dash + Plotly

| 方案 | 优点 | 缺点 | 适用场景 |
|------|------|------|----------|
| **Dash + Plotly** ⭐ | 专业金融图表、高度可定制、实时更新 | 学习曲线稍陡 | 专业级股票分析 |
| Streamlit | 简单快速、代码量少 | 定制性差、刷新机制受限 | 快速原型 |
| NiceGUI | 现代化UI、基于Vue | 社区较小、文档少 | 简单应用 |
| Panel | 功能强大 | 较重、上手慢 | 数据科学 |

**选择 Dash 的理由：**
1. Plotly 原生支持 Candlestick（K线图）、OHLC 图表
2. 支持 WebSocket 实时推送
3. 回调机制完善，交互体验好
4. 可与现有 FastAPI 后端集成
5. 支持自定义 CSS/JS 扩展

---

## 二、功能模块设计

### 2.1 核心模块

```
┌─────────────────────────────────────────────────────────────────┐
│                        SAPAS 股票分析系统                         │
├─────────────┬─────────────┬─────────────┬─────────────┬─────────┤
│   行情中心   │   自选股    │   预警中心   │   策略回测   │  系统设置 │
└─────────────┴─────────────┴─────────────┴─────────────┴─────────┘
```

#### 📊 模块一：行情中心
- **K线图表**
  - 周期切换：分时 / 1分 / 5分 / 15分 / 30分 / 60分 / 日 / 周 / 月 / 年
  - 复权模式：前复权 / 后复权 / 不复权
  - 缩放、平移、十字光标
  - 成交量副图
  
- **技术指标**（可叠加多个）
  - 均线系统：MA / EMA / BOLL
  - 趋势指标：MACD / DMI / SAR
  - 震荡指标：RSI / KDJ / CCI / WR
  - 成交量指标：VOL / OBV / VWAP
  - 自定义指标（公式编辑器）

- **画线工具**
  - 趋势线、水平线、斐波那契回撤

#### ⭐ 模块二：自选股管理
- 自选股列表（实时行情）
- 分组管理（可创建多个分组）
- 拖拽排序
- 快速搜索添加
- 批量导入/导出

#### 🔔 模块三：预警中心
- **预警规则配置**
  - 价格预警：突破/跌破指定价位
  - 涨跌幅预警：涨幅/跌幅超过 X%
  - 成交量预警：放量/缩量
  - 技术指标预警：金叉/死叉、超买/超卖
  - 形态预警：突破均线、MACD背离
  
- **预警触发面板**
  - 实时预警列表（按时间倒序）
  - 预警详情（触发原因、当前价格）
  - 一键跳转K线图
  - 预警历史记录

- **通知方式**
  - 页面弹窗 + 声音提示
  - 浏览器通知
  - 邮件/微信推送（可选）

#### 🎯 模块四：智能选股
- **条件选股器**
  - 可视化条件配置（无需编程）
  - 多条件组合（AND / OR 逻辑）
  - 实时预览符合条件的股票数量

- **预设策略**
  - MACD金叉选股
  - 均线多头排列
  - 放量突破
  - RSI超卖反弹
  - 底部形态识别

- **选股结果**
  - 结果列表（支持排序）
  - 一键加入自选
  - 批量查看K线
  - 导出选股结果

- **定时扫描**
  - 盘中实时扫描
  - 盘后定时任务
  - 扫描结果推送

#### 📈 模块五：策略回测（扩展）
- 内置策略模板
- 自定义策略编写
- 回测结果可视化
- 收益曲线、最大回撤

---

## 三、页面布局设计

### 3.1 主界面布局

```
┌──────────────────────────────────────────────────────────────────────────┐
│  🔍 搜索股票    [行情中心] [自选股] [预警中心] [策略回测] [设置]    👤 用户  │
├────────────────┬─────────────────────────────────────────┬───────────────┤
│                │                                         │               │
│   自选股列表    │              K 线 主 图                 │   预警触发    │
│                │         (MA/BOLL/SAR等叠加)             │               │
│  ┌──────────┐  │                                         │  🔴 000001   │
│  │ 000001   │  │    ████████                             │  涨幅超5%    │
│  │ 平安银行  │  │   ██    ████                           │  09:35:21    │
│  │ 12.35 ↑  │  │  ██  ████  ██                          │  ──────────  │
│  ├──────────┤  │ ██████      ████                       │  🔴 600519   │
│  │ 600519   │  │                  ████████               │  突破MA20    │
│  │ 贵州茅台  │  ├─────────────────────────────────────────┤  09:32:15    │
│  │ 1850 ↓   │  │            副 图 (MACD/KDJ/RSI)         │               │
│  ├──────────┤  │  ████  ████████  ████                   │               │
│  │ ...      │  │    ████      ████    ████               │               │
│  └──────────┘  ├─────────────────────────────────────────┤               │
│                │            成 交 量                      │               │
│  [+ 添加股票]  │  █ █ ██ █ ████ ██ █ ██ █ █ █            │               │
├────────────────┴─────────────────────────────────────────┴───────────────┤
│  日期: 2024-01-15  开:12.30  高:12.58  低:12.25  收:12.45  量:125.6万手   │
└──────────────────────────────────────────────────────────────────────────┘
```

### 3.2 预警配置弹窗

```
┌─────────────── 创建预警规则 ────────────────┐
│                                             │
│  规则名称: [突破20日均线预警        ]       │
│                                             │
│  监控股票: ○ 全部自选  ● 指定股票          │
│            [000001, 600519, ...]            │
│                                             │
│  触发条件:                                  │
│  ┌─────────────────────────────────────┐   │
│  │ [价格] [向上突破] [MA20]            │   │
│  │        [+ 添加条件]                  │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  冷却时间: [30] 分钟 (同一股票再次触发间隔) │
│                                             │
│  通知方式: ☑ 页面弹窗  ☑ 声音  ☐ 邮件     │
│                                             │
│            [取消]           [保存规则]      │
└─────────────────────────────────────────────┘
```

---

## 四、数据流架构

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   AKShare   │────▶│  FastAPI    │────▶│  PostgreSQL │
│  (数据源)    │     │  (后端API)  │     │  (数据存储)  │
└─────────────┘     └──────┬──────┘     └─────────────┘
                          │
                   WebSocket / REST
                          │
                   ┌──────▼──────┐
                   │    Dash     │
                   │  (前端展示)  │
                   └──────┬──────┘
                          │
              ┌───────────┼───────────┐
              ▼           ▼           ▼
        ┌─────────┐ ┌─────────┐ ┌─────────┐
        │  K线图   │ │ 预警面板 │ │ 自选股  │
        │ Plotly  │ │ 实时推送 │ │ 列表    │
        └─────────┘ └─────────┘ └─────────┘
```

---

## 五、技术指标支持列表

### 5.1 内置指标

| 分类 | 指标 | 参数 | 说明 |
|------|------|------|------|
| **均线** | MA | 5,10,20,60,120,250 | 简单移动平均 |
| | EMA | 12,26 | 指数移动平均 |
| | BOLL | 20,2 | 布林带 |
| **趋势** | MACD | 12,26,9 | 平滑异同移动平均 |
| | SAR | 0.02,0.2 | 抛物线转向 |
| | DMI | 14 | 趋向指标 |
| **震荡** | RSI | 6,12,24 | 相对强弱指数 |
| | KDJ | 9,3,3 | 随机指标 |
| | CCI | 14 | 顺势指标 |
| | WR | 10,6 | 威廉指标 |
| **成交量** | VOL | - | 成交量 |
| | OBV | - | 能量潮 |
| | VWAP | - | 成交量加权均价 |

### 5.2 自定义指标（扩展）

```python
# 用户可通过公式编辑器定义
# 示例：双均线金叉
MA5 = MA(CLOSE, 5)
MA20 = MA(CLOSE, 20)
CROSS(MA5, MA20)  # 金叉信号
```

---

## 六、预警规则引擎

### 6.1 规则类型

```python
ALERT_RULES = {
    # 价格类
    "price_above": "价格突破",      # 股价 > X
    "price_below": "价格跌破",      # 股价 < X
    "price_change_up": "涨幅超过",  # 涨幅 > X%
    "price_change_down": "跌幅超过", # 跌幅 > X%

    # 均线类
    "cross_ma_up": "向上突破均线",   # 股价上穿MA
    "cross_ma_down": "向下跌破均线", # 股价下穿MA
    "ma_golden_cross": "均线金叉",   # 短期MA上穿长期MA
    "ma_death_cross": "均线死叉",    # 短期MA下穿长期MA

    # MACD类
    "macd_golden_cross": "MACD金叉",
    "macd_death_cross": "MACD死叉",
    "macd_divergence_bull": "MACD底背离",
    "macd_divergence_bear": "MACD顶背离",

    # RSI类
    "rsi_overbought": "RSI超买",     # RSI > 70
    "rsi_oversold": "RSI超卖",       # RSI < 30

    # KDJ类
    "kdj_golden_cross": "KDJ金叉",
    "kdj_death_cross": "KDJ死叉",

    # 成交量类
    "volume_surge": "成交量放大",    # 量比 > X
    "volume_shrink": "成交量萎缩",   # 量比 < X
}
```

### 6.2 规则配置示例

```json
{
    "rule_name": "MACD金叉买入提醒",
    "stock_codes": ["000001", "600519"],
    "conditions": [
        {"type": "macd_golden_cross"},
        {"type": "price_above", "value": 10.0}
    ],
    "logic": "AND",
    "cooldown_minutes": 60,
    "notifications": ["popup", "sound", "email"]
}
```

---

## 七、智能选股引擎

### 7.1 选股条件类型

```python
STOCK_FILTER_CONDITIONS = {
    # ==================== 基础筛选 ====================
    "price_range": {
        "name": "股价区间",
        "params": ["min_price", "max_price"],
        "example": "股价在 10-50 元之间"
    },
    "market_cap_range": {
        "name": "市值区间",
        "params": ["min_cap", "max_cap"],
        "example": "市值在 100-500 亿之间"
    },
    "pe_range": {
        "name": "市盈率区间",
        "params": ["min_pe", "max_pe"],
        "example": "PE 在 10-30 之间"
    },
    "turnover_rate": {
        "name": "换手率",
        "params": ["min_rate", "max_rate"],
        "example": "换手率 > 3%"
    },

    # ==================== 涨跌幅筛选 ====================
    "change_pct_range": {
        "name": "今日涨跌幅",
        "params": ["min_pct", "max_pct"],
        "example": "涨幅在 3%-7% 之间"
    },
    "change_pct_n_days": {
        "name": "N日涨跌幅",
        "params": ["days", "min_pct", "max_pct"],
        "example": "5日涨幅 > 10%"
    },

    # ==================== 均线条件 ====================
    "price_above_ma": {
        "name": "股价站上均线",
        "params": ["ma_period"],
        "example": "股价 > MA20"
    },
    "price_below_ma": {
        "name": "股价跌破均线",
        "params": ["ma_period"],
        "example": "股价 < MA20"
    },
    "ma_long_arrangement": {
        "name": "均线多头排列",
        "params": ["ma_periods"],
        "example": "MA5 > MA10 > MA20 > MA60"
    },
    "ma_short_arrangement": {
        "name": "均线空头排列",
        "params": ["ma_periods"],
        "example": "MA5 < MA10 < MA20 < MA60"
    },
    "ma_golden_cross": {
        "name": "均线金叉",
        "params": ["short_period", "long_period"],
        "example": "MA5 上穿 MA20"
    },
    "ma_death_cross": {
        "name": "均线死叉",
        "params": ["short_period", "long_period"],
        "example": "MA5 下穿 MA20"
    },

    # ==================== MACD 条件 ====================
    "macd_golden_cross": {
        "name": "MACD金叉",
        "params": [],
        "example": "DIF 上穿 DEA"
    },
    "macd_death_cross": {
        "name": "MACD死叉",
        "params": [],
        "example": "DIF 下穿 DEA"
    },
    "macd_above_zero": {
        "name": "MACD零上",
        "params": [],
        "example": "DIF > 0 且 DEA > 0"
    },
    "macd_below_zero": {
        "name": "MACD零下",
        "params": [],
        "example": "DIF < 0 且 DEA < 0"
    },
    "macd_divergence_bull": {
        "name": "MACD底背离",
        "params": ["lookback_days"],
        "example": "股价新低但MACD不创新低"
    },
    "macd_divergence_bear": {
        "name": "MACD顶背离",
        "params": ["lookback_days"],
        "example": "股价新高但MACD不创新高"
    },

    # ==================== KDJ 条件 ====================
    "kdj_golden_cross": {
        "name": "KDJ金叉",
        "params": [],
        "example": "K 上穿 D"
    },
    "kdj_death_cross": {
        "name": "KDJ死叉",
        "params": [],
        "example": "K 下穿 D"
    },
    "kdj_oversold": {
        "name": "KDJ超卖区",
        "params": ["threshold"],
        "example": "J < 20"
    },
    "kdj_overbought": {
        "name": "KDJ超买区",
        "params": ["threshold"],
        "example": "J > 80"
    },

    # ==================== RSI 条件 ====================
    "rsi_oversold": {
        "name": "RSI超卖",
        "params": ["period", "threshold"],
        "example": "RSI(14) < 30"
    },
    "rsi_overbought": {
        "name": "RSI超买",
        "params": ["period", "threshold"],
        "example": "RSI(14) > 70"
    },

    # ==================== 布林带条件 ====================
    "boll_break_upper": {
        "name": "突破布林上轨",
        "params": [],
        "example": "股价 > BOLL上轨"
    },
    "boll_break_lower": {
        "name": "跌破布林下轨",
        "params": [],
        "example": "股价 < BOLL下轨"
    },
    "boll_squeeze": {
        "name": "布林收口",
        "params": ["width_threshold"],
        "example": "布林带宽 < 10%"
    },

    # ==================== 成交量条件 ====================
    "volume_ratio": {
        "name": "量比",
        "params": ["min_ratio", "max_ratio"],
        "example": "量比 > 2"
    },
    "volume_break": {
        "name": "放量突破",
        "params": ["vol_multiple", "price_break_ma"],
        "example": "成交量是5日均量2倍且突破MA20"
    },
    "volume_shrink": {
        "name": "缩量调整",
        "params": ["vol_ratio", "days"],
        "example": "连续3日成交量萎缩"
    },

    # ==================== 形态识别 ====================
    "pattern_double_bottom": {
        "name": "双底形态",
        "params": ["lookback_days"],
        "example": "近60日形成双底"
    },
    "pattern_head_shoulders": {
        "name": "头肩底",
        "params": ["lookback_days"],
        "example": "近90日形成头肩底"
    },
    "pattern_breakout": {
        "name": "平台突破",
        "params": ["consolidation_days", "break_pct"],
        "example": "横盘20日后突破"
    },
    "pattern_n_days_new_high": {
        "name": "创N日新高",
        "params": ["days"],
        "example": "创60日新高"
    },
    "pattern_n_days_new_low": {
        "name": "创N日新低",
        "params": ["days"],
        "example": "创60日新低"
    },
}
```

### 7.2 预设选股策略

| 策略名称 | 条件组合 | 适用场景 |
|----------|----------|----------|
| **MACD金叉买点** | MACD金叉 + 股价>MA20 + 量比>1.5 | 趋势初期 |
| **均线多头突破** | 均线多头排列 + 放量突破MA60 | 强势股 |
| **超跌反弹** | RSI<30 + KDJ金叉 + 跌幅>20% | 超跌修复 |
| **底部放量** | 创20日新低后放量阳线 + MACD底背离 | 底部反转 |
| **布林下轨买入** | 触及布林下轨 + RSI<40 + 成交量萎缩 | 回调买入 |
| **平台突破** | 横盘>15日 + 今日突破 + 放量 | 突破行情 |
| **涨停板次日** | 昨日涨停 + 今日高开 + 量比>2 | 强势延续 |

### 7.3 选股配置界面

```
┌─────────────────── 智能选股 ────────────────────┐
│                                                 │
│  策略名称: [我的选股策略1              ]        │
│                                                 │
│  ┌─ 筛选条件 ──────────────────────────────┐   │
│  │                                          │   │
│  │  条件1: [股价区间    ▼] [10] 元 ~ [50] 元│   │
│  │         [AND ▼]                          │   │
│  │  条件2: [MACD金叉    ▼]                  │   │
│  │         [AND ▼]                          │   │
│  │  条件3: [均线多头排列 ▼] MA [5,10,20,60] │   │
│  │         [AND ▼]                          │   │
│  │  条件4: [量比        ▼] > [1.5]          │   │
│  │                                          │   │
│  │  [+ 添加条件]                            │   │
│  └──────────────────────────────────────────┘   │
│                                                 │
│  选股范围: ○ 全部A股  ○ 沪深300  ● 自选股      │
│                                                 │
│  排除条件: ☑ ST股票  ☑ 停牌股  ☑ 次新股       │
│                                                 │
│  预览: 符合条件 [128] 只股票                    │
│                                                 │
│  ┌─────────────────────────────────────────┐   │
│  │ [保存策略] [立即选股] [设为定时任务]     │   │
│  └─────────────────────────────────────────┘   │
└─────────────────────────────────────────────────┘
```

### 7.4 选股结果界面

```
┌─────────────────── 选股结果 ────────────────────┐
│                                                 │
│  策略: MACD金叉买点    执行时间: 09:35:21       │
│  条件: MACD金叉 + 股价>MA20 + 量比>1.5          │
│  结果: 共 23 只股票                [导出Excel]  │
│                                                 │
│  ┌──────┬────────┬───────┬───────┬───────┬────┐│
│  │ 代码 │  名称  │ 现价  │ 涨跌幅│ 量比  │操作││
│  ├──────┼────────┼───────┼───────┼───────┼────┤│
│  │000001│平安银行│ 12.35 │ +3.25%│  2.1  │ ⭐ ││
│  │600519│贵州茅台│1856.00│ +1.82%│  1.8  │ ⭐ ││
│  │000858│五粮液  │ 168.50│ +2.56%│  2.3  │ ⭐ ││
│  │300750│宁德时代│ 186.30│ +4.12%│  3.1  │ ⭐ ││
│  │...   │ ...    │  ...  │  ...  │  ...  │ ...││
│  └──────┴────────┴───────┴───────┴───────┴────┘│
│                                                 │
│  [全部加入自选]  [查看K线]  [< 上一页 1/3 下一页 >]│
└─────────────────────────────────────────────────┘
```

### 7.5 定时扫描任务

```python
SCAN_SCHEDULES = {
    "realtime": {
        "name": "盘中实时扫描",
        "interval": "5分钟",
        "time_range": "09:30-15:00",
        "description": "交易时段每5分钟扫描一次"
    },
    "morning_scan": {
        "name": "早盘扫描",
        "time": "09:35",
        "description": "开盘5分钟后扫描"
    },
    "midday_scan": {
        "name": "午盘扫描",
        "time": "13:05",
        "description": "下午开盘后扫描"
    },
    "closing_scan": {
        "name": "尾盘扫描",
        "time": "14:50",
        "description": "收盘前10分钟扫描"
    },
    "after_hours": {
        "name": "盘后扫描",
        "time": "15:30",
        "description": "收盘后数据完整时扫描"
    }
}
```

---

## 八、扩展功能规划

### 8.1 Phase 1 - 基础功能
- [ ] K线图（日/周/月/年）
- [ ] 基础技术指标（MA/MACD/RSI/KDJ/BOLL）
- [ ] 自选股列表
- [ ] 基础预警规则
- [ ] 智能选股（条件选股器）

### 8.2 Phase 2 - 增强功能
- [ ] **分时图**：当日分时走势、均价线
- [ ] **多股对比**：同一图表对比多只股票走势
- [ ] **板块热力图**：行业板块涨跌可视化
- [ ] **资金流向**：主力资金、北向资金
- [ ] **龙虎榜**：异动股票、游资追踪
- [ ] **公告新闻**：个股公告、市场新闻推送
- [ ] **选股定时任务**：盘中/盘后自动扫描

### 8.3 Phase 3 - 高级功能
- [ ] **策略回测**
  - 可视化策略编辑器
  - 收益曲线、夏普比率、最大回撤
  - 交易信号标注

- [ ] **形态识别**
  - 双底/双顶识别
  - 头肩顶/底识别
  - 平台突破识别

- [ ] **模拟交易**
  - 虚拟资金账户
  - 交易记录
  - 盈亏统计

### 8.4 Phase 4 - 专业功能
- [ ] **多周期联动**：日/周/月同屏显示
- [ ] **自定义公式**：指标公式编辑器
- [ ] **数据导出**：Excel/CSV/图片
- [ ] **移动端适配**：响应式布局
- [ ] **暗色主题**：护眼模式
- [ ] **AI 智能分析**：基于大模型的行情解读

---

## 九、目录结构

```
src/
├── web/                          # Dash 前端
│   ├── __init__.py
│   ├── app.py                    # Dash 应用入口
│   ├── layouts/                  # 页面布局
│   │   ├── __init__.py
│   │   ├── main_layout.py        # 主布局
│   │   ├── kline_layout.py       # K线页面
│   │   ├── watchlist_layout.py   # 自选股页面
│   │   ├── alert_layout.py       # 预警页面
│   │   └── screener_layout.py    # 智能选股页面
│   ├── components/               # 可复用组件
│   │   ├── __init__.py
│   │   ├── kline_chart.py        # K线图组件
│   │   ├── indicator_panel.py    # 指标面板
│   │   ├── stock_search.py       # 股票搜索
│   │   ├── alert_popup.py        # 预警弹窗
│   │   └── condition_builder.py  # 条件构建器组件
│   ├── callbacks/                # 交互回调
│   │   ├── __init__.py
│   │   ├── kline_callbacks.py    # K线交互
│   │   ├── watchlist_callbacks.py
│   │   ├── alert_callbacks.py
│   │   └── screener_callbacks.py # 选股交互
│   ├── services/                 # 前端服务
│   │   ├── __init__.py
│   │   ├── api_client.py         # 后端API调用
│   │   ├── alert_engine.py       # 预警引擎
│   │   └── screener_engine.py    # 选股引擎
│   └── assets/                   # 静态资源
│       ├── style.css             # 自定义样式
│       └── sounds/               # 提示音
│           └── alert.mp3
├── services/
│   ├── data_sync.py              # 数据同步服务
│   └── stock_screener.py         # 选股服务（后端）
```

---

## 十、依赖安装

```bash
# 添加到 requirements.txt
dash>=2.14.0
dash-bootstrap-components>=1.5.0
plotly>=5.18.0
pandas>=2.0.0
requests>=2.31.0
```

---

## 十一、启动方式

```bash
# 开发模式
bash start.sh web

# 或单独启动
python -m src.web.app
```

访问地址：`http://localhost:8050`

---

## 十二、效果预览

### K线主界面
```
┌────────────────────────────────────────────────────────────┐
│  平安银行 (000001.SZ)         日K  ▼   前复权 ▼   指标 ▼  │
├────────────────────────────────────────────────────────────┤
│                                                            │
│   MA5━━  MA10━━  MA20━━  BOLL━━                           │
│                        ╭─────╮                             │
│                   ╭────│     │                             │
│              ╭────│    │     │────╮                        │
│         ╭────│    │    ╰─────╯    │────╮                   │
│    ╭────│    │    ╰────╯              │────╮               │
│    │    ╰────╯                             │               │
│    ╰────╯                                  ╰────           │
│                                                            │
├────────────────────────────────────────────────────────────┤
│  MACD(12,26,9)   DIF━━  DEA━━  MACD柱                     │
│        ██  ██                                              │
│    ████  ██  ██      ████████                              │
│  ──────────────────██──────────────────────────────────── │
│                      ████  ████                            │
├────────────────────────────────────────────────────────────┤
│  VOL   量比:1.25                                           │
│  ██ ██ ████ ██ ██████ ████ ██ ██ ██ ██                    │
└────────────────────────────────────────────────────────────┘
```

---

## 总结

本方案采用 **Dash + Plotly** 构建纯 Python 前端，实现：

| 功能模块 | 核心特性 |
|----------|----------|
| 📊 **K线图表** | 分时/日/周/月/年、20+技术指标、画线工具 |
| ⭐ **自选股** | 分组管理、实时行情、批量操作 |
| 🔔 **预警中心** | 多维度规则、实时触发、多渠道通知 |
| 🎯 **智能选股** | 条件选股器、预设策略、定时扫描 |
| 📈 **策略回测** | 收益曲线、风险指标（扩展） |

### 智能选股亮点
- **30+ 选股条件**：价格、均线、MACD、KDJ、RSI、成交量、形态等
- **可视化配置**：无需编程，拖拽式条件组合
- **预设策略**：MACD金叉、均线多头、超跌反弹等经典策略
- **定时扫描**：盘中实时扫描 + 盘后自动执行
- **结果管理**：一键加自选、批量查看K线、导出Excel

**下一步**：确认方案后，开始实现代码。

