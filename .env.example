# ============================================================
# SAPAS 环境配置示例
# 复制此文件为 .env 并填入实际值
# ============================================================

# 应用配置
APP_NAME=SAPAS
APP_ENV=development
DEBUG=true
SECRET_KEY=your-secret-key-here-change-in-production

# 数据库配置 (PostgreSQL)
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/sapas_db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# 同步数据库 URL (用于 Alembic 迁移等)
DATABASE_SYNC_URL=postgresql://postgres:password@localhost:5432/sapas_db

# 日志配置
LOG_LEVEL=INFO
LOG_FILE=logs/sapas.log
ALERT_LOG_FILE=logs/alert_history.log

# 数据同步配置
SYNC_RETRY_TIMES=3
SYNC_RETRY_DELAY=5
SYNC_RATE_LIMIT=5

# 告警配置
ALERT_CHECK_INTERVAL=60
TRADING_START_AM=09:30
TRADING_END_AM=11:30
TRADING_START_PM=13:00
TRADING_END_PM=15:00

# JWT 配置
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# CORS 配置
CORS_ORIGINS=["http://localhost:5173", "http://localhost:3000"]

# Redis 配置
REDIS_URL=redis://localhost:6379/0

# 数据库端口配置（用于 docker-compose）
DB_PORT=5432
REDIS_PORT=6379


# 邮件配置 (可选)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-password
# SMTP_FROM=noreply@example.com


# ============================================================
# 数据网关服务配置 (Data Gateway Service)
# ============================================================

# 服务配置
DG_HOST=0.0.0.0
DG_PORT=8001
DG_DEBUG=true

# 数据库配置
DG_DATABASE_URL=postgresql+asyncpg://root:J7aXgk2BJUj=@localhost:5432/data_gateway
DG_DATABASE_SYNC_URL=postgresql://root:J7aXgk2BJUj=@localhost:5432/data_gateway

# Redis 配置
DG_REDIS_URL=redis://localhost:6379/0
DG_REDIS_MESSAGE_QUEUE=data-gateway:queue
DG_REDIS_QUOTE_CHANNEL_PREFIX=quote

# 缓存配置
DG_CACHE_TTL_REALTIME=5
DG_CACHE_TTL_KLINE=60

# 数据源配置
DG_AKSHARE_ENABLED=true
DG_BAOSTOCK_ENABLED=true
# 缅A平台Token（可选，用于实时五档、资金流向等数据）
# 获取方式：访问 https://miana.com.cn 注册并获取Token
DG_MIANA_TOKEN=

# 限流配置
DG_RATE_LIMIT_PER_MINUTE=120
DG_RATE_LIMIT_PER_HOUR=1000

# 日志配置
DG_LOG_LEVEL=INFO
DG_LOG_FILE=logs/data_gateway.log

